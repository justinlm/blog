---
title: C#的一些基础
---

最近重新学习c#,所以做一下自己的学习记录，也方便以后复习。

##1.string相关使用建议

###1.1确保尽量减少装箱

```[C#]

 string str1 = "str1" + 9; // 9会进行一次装箱行为

 string str2 = "str2" + 9.ToString()//不会进行装箱操作

```

具体可以通过查看IL内容看到具体信息。



###1.2避免分配额外的内存空间



*********************************



##2.类型转换建议

###2.1强制类型转换和as

进行类型转换，我们有一下选择：

* 使用as操作符转换，

* 使用传统C风格的强制转型，

* 使用is来做一个转换测试，然后再使用as操作符或者强制转换。



尽可能的使用as操作符，as操作符不会抛出异常，转型不成功会返回null.而强转不成功会引发异常带来效率问题。



###2.2TryParse和Parse

进可能使用TryParse操作符。如果转型不成功Parse会引发异常;而TryParse会返回false,不会引发异常。测试的结果也是在转型成功的情况下TryParse也会效率比较高。



******************************************

##3.readonly和const的使用方法
const：
* 一个编译期常量，天然就是static。
* 只能修饰基元类型、枚举类型或字符串类型。
* 编译器编译后，在代码中引用的const常量的地方会用const常量对应的实际值来代替

readonly
* 一个运行时常量。
* 修饰类型没有限制。
* 对于值类型，值本身不可改变。
* 对于引用类型，引用本身不可改变，但是引用本身所指实例的值可以改变。